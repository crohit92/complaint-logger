<div class="app-complaints-list" *ngIf="(tabChangeEvent | async) as selectedTabIndex">
    <div class="mat-title">Your Complaints</div>
    <mat-tab-group (selectedIndexChange)="tabChangeEvent.next($event + 1)">
        <mat-tab label="Pending">
            <div class="pending-complaints" *ngIf="(pending$ | async) as pendingComplaints">
                <div class="complaint" *ngFor="let complaint of pendingComplaints.complaints">
                    <div class="complaint__header">
                        <div class="complaint__header-department">
                            <!-- {{complaint.department?.name}} -->
                            Electricity
                        </div>
                        <div class="complaint__header-location">
                            <!-- {{complaint.building?.name}} -->
                            Hostel 1, 325
                        </div>
                        <div class="complaint__header-created-at">
                            <!-- {{complaint.building?.name}} -->
                            {{complaint.createdAt}}
                        </div>
                    </div>
                    <div class="complaint__body">
                        {{complaint.description}}
                    </div>
                    <mat-divider></mat-divider>
                    <div class="complaint__status">
                        <div class="complaint__status-assigned-to">
                            Assigned to: <span>Not assigned</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pending-pagination" *ngIf="(pendingPagination | async) as paginationInfo">
                <mat-paginator (page)="pendingPageChanged($event)" *ngIf="(pending$ | async) as pendingComplaints"
                    [length]="pendingComplaints.count" [pageSize]="paginationInfo.pageSize"
                    [pageSizeOptions]="[5, 10, 25, 100]">
                </mat-paginator>
            </div>

        </mat-tab>
        <mat-tab label="Resolved">
            <div class="resolved-complaints" *ngIf="(resolved$ | async) as resolvedComplaints">
                <div class="complaint" *ngFor="let complaint of resolvedComplaints.complaints">
                    <div class="complaint__header">
                        <div class="complaint__header-department">
                            <!-- {{complaint.department?.name}} -->
                            Electricity
                        </div>
                        <div class="complaint__header-location">
                            <!-- {{complaint.building?.name}} -->
                            Hostel 1, 325
                        </div>
                        <div class="complaint__header-created-at">
                            <!-- {{complaint.building?.name}} -->
                            {{complaint.createdAt}}
                        </div>
                    </div>
                    <div class="complaint__body">
                        {{complaint.description}}
                    </div>
                    <mat-divider></mat-divider>
                    <div class="complaint__status">
                        <div class="complaint__status-assigned-to">
                            Assigned to: <span>Not assigned</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="resolved-pagination" *ngIf="(resolvedPagination | async) as paginationInfo">
                <mat-paginator (page)="resolvedPageChanged($event)" *ngIf="(resolved$ | async) as resolvedComplaints"
                    [length]="resolvedComplaints.count" [pageSize]="paginationInfo.pageSize"
                    [pageSizeOptions]="[5, 10, 25, 100]">
                </mat-paginator>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>